"""
Generate level3.txt to level500.txt for platformer game
Run this script to create all level files
"""
import os

# Create levels directory if it doesn't exist
os.makedirs('levels', exist_ok=True)

# Template dimensions: 70 chars wide, 13 rows tall
WIDTH = 70
HEIGHT = 13

def create_level_3():
    return """..........................................................................
..........................................................................
..........................................................................
..C...............C...............C.......................................
.###.............###.............###......................................
P.................E.................E.....................................
###.....................................................................##
........C.....C.....C.....................................................
....#################.....................................................
...........................C...C...C......................................
...........^...........#############..................^...................
..............................................................C...........F
##################################################################.#######"""

def create_level_4():
    return """..........................................................................
..........................................................................
.........C.......C.......C....................................................
........###.....###.....###...................................................
P...........................................E.................................
####................................................................##########
............C...........C...........C.........................................
....########...........###.........###........................................
.......................................C......................................
.....................^.............####.......................................
...............########################...................^...................
..................................................................C.......F
##################################################################.#######"""

def create_level_5():
    return """..........................................................................
..........................................................................
..........................................................................
....C...C...C.....................................C.......................
...###.###.###...................................###......................
P.....................E.................E.................................
######..............................................................######
....................C.....C.....C.........................................
............############.###.###..........................................
.......^..................................................................
...########...............................................^...............
.....................................................C....................F
##################################################################.#######"""

def create_level_6():
    return """..........................................................................
..........................................................................
.C.................................C......................................
###...............................###.....................................
P......C.................E................................................
####..###............................................................#####
................C.....................................................
........############..........C...C...C...................................
...................................###.###.###............................
..............^...........................................................
..................########................................^...............
.........................................................C................F
##################################################################.#######"""

def create_level_7():
    return """..........................................................................
..........................................................................
..........................................................................
..C.....C.....C...................................C.....C.................
.###...###...###.................................###...###................
P.............................E.....................E.....................
#####...............................................................######
.............C................................................................
.....############.............C...C.......................................
...........................########.......................................
................^.................................................^.......
.....................................................................C....F
##################################################################.#######"""

def create_level_8():
    return """..........................................................................
..........................................................................
........C.........C.........C.................................................
.......###.......###.......###................................................
P...................................E.....................................
######........................................................................
..............C.......C.......C...........................................
......########.###.###.###................................................
..........................................C...............................
..................................########................................
...............^..........................................^...............
..............................................................C...........F
##################################################################.#######"""

def create_level_9():
    return """..........................................................................
..........................................................................
..........................................................................
.C...C...C.................................C..............................
###.###.###...............................###.............................
P...................E.......................E.............................
#####...............................................................######
................C.....C.......................................................
....############.###..........................................................
.............................................C............................
......................^...............########............^...............
..................................................................C.......F
##################################################################.#######"""

def create_level_10():
    return """..........................................................................
..........................................................................
.....C.........C.........C....................................................
....###.......###.......###...................................................
P.......................................E.................................
#######.................................................................######
....................C.....C...........................................
............############.###..........................................
.......^..................................................................
...########...........................................C...................
..............................................########....................
.....................................................................C....F
##################################################################.#######"""

# Generate levels 11-500 with progressive difficulty
def generate_advanced_level(level_num):
    """Generate increasingly complex levels"""
    lines = []
    
    # Empty top rows
    for _ in range(3):
        lines.append('.' * WIDTH)
    
    # Calculate difficulty factors (scaled for 500 levels)
    difficulty = min((level_num - 10) / 490.0, 1.0)  # 0 to 1
    num_enemies = min(1 + (level_num // 15), 8)  # Max 8 enemies
    num_coins = min(3 + (level_num // 10), 20)  # Max 20 coins
    num_spikes = min((level_num // 20), 10)  # Max 10 spikes
    
    # Row 4-5: Floating platforms with coins
    coin_row = ['.'] * WIDTH
    plat_row = ['.'] * WIDTH
    
    coin_positions = [10 + i*10 for i in range(min(4, num_coins))]
    for pos in coin_positions[:num_coins]:
        if pos < WIDTH - 5:
            coin_row[pos] = 'C'
            plat_row[pos-1:pos+2] = ['#'] * 3
    
    lines.append(''.join(coin_row))
    lines.append(''.join(plat_row))
    
    # Row 6: Player and enemies
    entity_row = ['.'] * WIDTH
    entity_row[0] = 'P'
    for i in range(num_enemies):
        enemy_pos = 20 + i * 15
        if enemy_pos < WIDTH - 5:
            entity_row[enemy_pos] = 'E'
    lines.append(''.join(entity_row))
    
    # Row 7: Main platform
    main_plat = ['#'] * 10
    main_plat.extend(['.'] * (WIDTH - 20))
    main_plat.extend(['#'] * 10)
    lines.append(''.join(main_plat))
    
    # Row 8-9: Middle section with coins
    mid_coin_row = ['.'] * WIDTH
    mid_plat_row = ['.'] * WIDTH
    
    for i in range(min(3, num_coins - 4)):
        pos = 15 + i * 15
        if pos < WIDTH - 5:
            mid_coin_row[pos] = 'C'
    
    platform_start = 10 + (level_num % 20)
    platform_len = min(15, 10 + level_num // 20)
    if platform_start + platform_len < WIDTH:
        mid_plat_row[platform_start:platform_start + platform_len] = ['#'] * platform_len
    
    lines.append(''.join(mid_coin_row))
    lines.append(''.join(mid_plat_row))
    
    # Row 10: Coins or empty
    row10 = ['.'] * WIDTH
    if level_num % 3 == 0 and num_coins > 7:
        row10[30] = 'C'
    lines.append(''.join(row10))
    
    # Row 11: Spikes and platforms
    spike_row = ['.'] * WIDTH
    for i in range(num_spikes):
        spike_pos = 15 + i * 12
        if spike_pos < WIDTH - 5:
            spike_row[spike_pos] = '^'
    
    # Add some platforms around spikes
    if num_spikes > 0:
        platform_start = 8 + (level_num % 15)
        platform_len = 8 + (level_num % 10)
        if platform_start + platform_len < WIDTH - 10:
            spike_row[platform_start:platform_start + platform_len] = ['#'] * platform_len
    
    lines.append(''.join(spike_row))
    
    # Row 12: Final coins and finish
    final_row = ['.'] * WIDTH
    if num_coins > 10:
        final_row[WIDTH - 15] = 'C'
    final_row[WIDTH - 1] = 'F'
    lines.append(''.join(final_row))
    
    # Row 13: Bottom platform
    bottom = ['#'] * WIDTH
    bottom[WIDTH - 8:WIDTH - 1] = ['.'] * 7
    bottom[WIDTH - 1] = '#'
    lines.append(''.join(bottom))
    
    return '\n'.join(lines)

# Generate all levels
levels = {
    3: create_level_3(),
    4: create_level_4(),
    5: create_level_5(),
    6: create_level_6(),
    7: create_level_7(),
    8: create_level_8(),
    9: create_level_9(),
    10: create_level_10(),
}

# Add generated levels 11-500
for i in range(11, 501):
    levels[i] = generate_advanced_level(i)

# Write all level files
for level_num, level_data in levels.items():
    filename = f'levels/level{level_num}.txt'
    with open(filename, 'w') as f:
        f.write(level_data)
    print(f"Created {filename}")

print(f"\nSuccessfully created {len(levels)} level files (level3.txt to level500.txt)")
print("All files saved in 'levels/' directory")